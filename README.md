# CLI-SD-HSE-2026
Учебный проект: Интерпретатор командной строки на C++ с поддержкой кавычек, переменных окружения, подстановок `$`, пайплайнов и запуска внешних программ.

Проект на текущем этапе содержит **архитектурную документацию и диаграммы**. Реализация будет добавляться позже.

---

## 1. Возможности (требования)

Интерпретатор должен поддерживать:

### 1.1 Встроенные команды (builtins)
- `cat` — вывести содержимое файла (или stdin).
- `echo` — вывести аргументы.
- `wc` — вывести количество строк, слов и байт (для файла или stdin).
- `pwd` — вывести текущую директорию.
- `exit` — выйти из интерпретатора.

### 1.2 Кавычки
- **Одинарные кавычки** `'...'`: содержимое воспринимается буквально, подстановки запрещены.
- **Двойные кавычки** `"..."`: содержимое воспринимается как текст, но разрешены подстановки `$NAME`.

### 1.3 Окружение и подстановки
- Присваивания вида `NAME=value`.
- Оператор `$` для подстановки переменных: `$NAME`.
- Если переменная не определена — подставляется пустая строка.
- После подстановки не выполняется word splitting (результат подстановки не разбивается на несколько аргументов по пробелам).

### 1.4 Внешние программы
Если введена команда, которую интерпретатор не знает как builtin, она запускается как внешняя программа (через `execvp`/`PATH`).

### 1.5 Пайплайны
Поддерживается оператор `|`:
- `cmd1 | cmd2 | cmd3`
- stdout команды `i` подключается к stdin команды `i+1`.
- Пайплайн выполняется параллельно за счёт процессов ОС (pipe/fork/dup2/exec).

---

## 2. Примеры

```sh
echo "Hello, world!"
# >>> Hello, world!

FILE=example.txt
cat $FILE
# >>> Some example text

cat example.txt | wc
# >>> 1 3 18

echo 123 | wc
# >>> 1 1 3

x=ex y=it
echo $x$y
# >>> exit
```

## 3. Ограничения (явно не поддерживается)

Чтобы не усложнять проект, не планируется поддержка:

- редиректов >, <, >>
- ;, &&, ||
- job control (&, fg/bg)
- globbing (*, ?)
- escape-последовательностей \
- Если ограничения будут расширяться, это должно быть отражено в документации.

## 4. Архитектура

Архитектурное описание находится в:

docs/architecture.md
Диаграммы:

docs/diagrams/components.puml — компоненты
docs/diagrams/classes.puml — ключевые классы/интерфейсы

## 5. Сборка (когда появится реализация)

Проект будет собираться через CMake.

Пример (Linux/macOS):

```bash
cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug
cmake --build build -j
```

## 6. CI

В репозитории настроен CI (сборка и проверки). Детали — в .github/workflows/ci.yml

## 7. Как вносить изменения

Правила работы с ветками, PR и стилем кода:

CONTRIBUTING.md